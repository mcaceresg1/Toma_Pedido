<h2 mat-dialog-title>Buscar Ubigeo</h2>
<mat-dialog-content>
  <div>
    <div>
      <form [formGroup]="formUbigeo" autocomplete="off">
        <div class="w-full">
          <div class="col-span-1 overflow-visible py-2">
            <mat-form-field class="w-full" appearance="outline">
              <mat-label
                >Buscar por distrito, departamento o provincia</mat-label
              >
              <input
                type="search"
                matInput
                formControlName="busqueda"
                placeholder="Buscar por distrito, departamento o provincia"
                (keyup)="cargarInput()"
              />
              <mat-icon matPrefix>search</mat-icon>
            </mat-form-field>
          </div>
        </div>
      </form>
      <div class="row mt-2" *ngIf="listUbigeos().length > 0">
        <div class="col">
          <div
            class="flex flex-col md:flex-row md:justify-between md:items-center gap-2"
          >
            <span class="poppins-regular text-sm"
              >Total Registros: {{ listUbigeos().length }}</span
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div
          class="w-full gap-2 flex flex-col md:px-2"
          *ngIf="!!listUbigeos() && listUbigeos().length > 0"
        >
          <table
            mat-table
            [dataSource]="listUbigeos()"
            class="mat-elevation-z8 overflow-scroll"
          >
            <ng-container matColumnDef="ubigeo">
              <th mat-header-cell *matHeaderCellDef>Ubigeo</th>
              <td mat-cell *matCellDef="let element">{{ element.ubigeo }}</td>
            </ng-container>

            <ng-container matColumnDef="departamento">
              <th mat-header-cell *matHeaderCellDef>Departamento</th>
              <td mat-cell *matCellDef="let element">
                {{ element.distrito }}
              </td>
            </ng-container>

            <ng-container matColumnDef="provincia">
              <th mat-header-cell *matHeaderCellDef>Provincia</th>
              <td mat-cell *matCellDef="let element">
                {{ element.provincia }}
              </td>
            </ng-container>

            <ng-container matColumnDef="distrito">
              <th mat-header-cell *matHeaderCellDef>Distrito</th>
              <td mat-cell *matCellDef="let element">{{ element.departamento }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr
              mat-row
              *matRowDef="let row; columns: displayedColumns"
              class="element-row"
              (click)="seleccionarUbigeo(row)"
            ></tr>
          </table>
        </div>
      </div>

      <div class="p-3" *ngIf="listUbigeos().length == 0">
        <div>
          <p class="poppins-regular">
            No se encontraron registros para mostrar
          </p>
        </div>
      </div>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions>
  <button
    mat-button
    type="button"
    id="limpiarModal"
    data-bs-dismiss="modal"
    (click)="limpiarForm()"
  >
    <mat-icon>brush</mat-icon> Limpiar
  </button>

  <button
    mat-button
    type="button"
    id="cerrarModal"
    data-bs-dismiss="modal"
    (click)="onNoClick()"
  >
    <mat-icon>close</mat-icon> Cerrar
  </button>
</mat-dialog-actions>
